FROM python:3.9

COPY requirements.txt requirements.txt
RUN pip3 install -r requirements.txt
RUN pip3 install setuptools --upgrade

COPY . /fejudge
COPY docker/app_entrypoint.sh /fejudge/entrypoint.sh
WORKDIR /fejudge

EXPOSE 3113
ENTRYPOINT [ "/bin/bash", "-c", "sleep 3 && ./entrypoint.sh" ]
# Best synchronization ever 
